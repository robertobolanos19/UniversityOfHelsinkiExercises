{"ast":null,"code":"var _jsxFileName = \"/Users/rb/Desktop/FullstackCourse/part2/phonebook/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport personServices from './services/persons';\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  //persons data\n  const [persons, setPersons] = useState([]);\n  //search filter\n  const [newFilter, setNewFilter] = useState('');\n  //new person\n  const [newName, setNewName] = useState('');\n  //phone numbers\n  const [newPhoneNumber, setNewPhoneNumber] = useState('');\n  //notifications\n  const [notification, setNotification] = useState(null);\n  const [notifType, setNotifType] = useState(null);\n\n  //use effect is being used to get data\n  useEffect(() => {\n    personServices.getAll()\n    //if found it will skim through each item\n    .then(initialPersons => {\n      //the values from response.data each time its returned is being sent to setPersons\n      setPersons(initialPersons);\n    });\n  });\n  //end of useEffect\n\n  //useRef\n  const inputRef = useRef();\n  //end useRef\n\n  //handlers\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    inputRef.current.select();\n    const nameObject = {\n      name: newName,\n      number: newPhoneNumber,\n      id: persons.length + 1\n    };\n    if (persons.map(p => p.name).includes(newName)) {\n      window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`) && personServices.update(persons.filter(p => p.name === newName)[0].id, nameObject).then(response => {\n        personServices.getAll().then(response => {\n          setPersons(response);\n          setNewName('');\n          setNewPhoneNumber('');\n          setNotifType(null);\n          setNotification(`Changed ${nameObject.name}'s number`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        });\n      }).catch(error => {\n        setNotifType('error');\n        setNotification(`${newName} was already removed from server`);\n        setTimeout(() => {\n          setNotifType(null);\n          setNotification(null);\n        }, 5000);\n        setPersons(persons.filter(n => n.name !== newName));\n      });\n    }\n    personServices.create(nameObject).then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson));\n      setNewName('');\n      setNewPhoneNumber('');\n      setNotifType(null);\n      setNotification(`Added ${returnedPerson.name}`);\n      setTimeout(() => {\n        setNotification(null);\n      }, 5000);\n    });\n  };\n  const handleFilter = e => setNewFilter(e.target.value);\n  const handleNameInput = e => {\n    //e.target.value is the value being put into the form\n    setNewName(e.target.value);\n  };\n  const handleNumInput = e => {\n    //e.target.value is the value being put into the form\n    setNewPhoneNumber(e.target.value);\n  };\n  const deletePerson = person => {\n    window.confirm(`Delete ${person.name}?`) && personServices.deletePerson(person.id);\n  };\n\n  //end of handlers\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      message: notification,\n      type: notifType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      handleFilter: handleFilter,\n      value: newFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleSubmit: handleSubmit,\n      handleNameInput: handleNameInput,\n      newName: newName,\n      handleNumInput: handleNumInput,\n      newPhoneNumber: newPhoneNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      persons: persons,\n      newFilter: newFilter,\n      del: deletePerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"LgklRMAXzZ8zVzu0UjDrfvKYraE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","personServices","Filter","Form","Persons","Notification","App","persons","setPersons","newFilter","setNewFilter","newName","setNewName","newPhoneNumber","setNewPhoneNumber","notification","setNotification","notifType","setNotifType","getAll","then","initialPersons","inputRef","useRef","handleSubmit","e","preventDefault","current","select","nameObject","name","number","id","length","map","p","includes","window","confirm","update","filter","response","setTimeout","catch","error","n","create","returnedPerson","concat","handleFilter","target","value","handleNameInput","handleNumInput","deletePerson","person"],"sources":["/Users/rb/Desktop/FullstackCourse/part2/phonebook/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nimport personServices from './services/persons'\n\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n\n  //persons data\n  const [persons, setPersons] = useState([])\n  //search filter\n  const [newFilter, setNewFilter] = useState('')\n  //new person\n  const [newName, setNewName] = useState('')\n  //phone numbers\n  const [newPhoneNumber, setNewPhoneNumber] = useState('')\n  //notifications\n  const [notification, setNotification] = useState(null)\n  const [notifType, setNotifType] = useState(null)\n\n\n  //use effect is being used to get data\n  useEffect(()=>{\n  personServices.getAll()\n  //if found it will skim through each item\n  .then(initialPersons =>{\n    //the values from response.data each time its returned is being sent to setPersons\n    setPersons(initialPersons)\n  })\n  })\n  //end of useEffect\n\n  //useRef\n  const inputRef = useRef()\n  //end useRef\n\n\n  //handlers\n\n  const handleSubmit = (e)=>{\n    e.preventDefault()\n\n    inputRef.current.select()\n    \n    const nameObject = \n    {\n      name:newName,\n      number:newPhoneNumber,\n      id: persons.length+1\n    }  \n\n    if(persons.map((p)=>p.name).includes(newName))\n    {\n      window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`) &&\n      personServices\n      .update(persons.filter(p=>p.name === newName)[0].id, nameObject)\n      .then(response =>{\n        personServices.getAll()\n        .then(response =>{\n          setPersons(response)\n          setNewName('')\n          setNewPhoneNumber('')\n          setNotifType(null)\n          setNotification(`Changed ${nameObject.name}'s number`)\n          setTimeout(()=>{\n            setNotification(null)\n          },5000)\n        })\n      })\n      .catch(error =>{\n        setNotifType('error')\n        setNotification(`${newName} was already removed from server`)\n        setTimeout(()=>{\n          setNotifType(null)\n          setNotification(null)\n        },5000)\n        setPersons(persons.filter(n=>n.name !== newName))\n      })\n    }\n\n      personServices.create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewPhoneNumber('')\n        setNotifType(null)\n        setNotification(`Added ${returnedPerson.name}`)\n        setTimeout(()=>{\n          setNotification(null)\n        },5000)\n      })\n  \n  }\n\n  const handleFilter = (e)=> setNewFilter(e.target.value)\n  \n  const handleNameInput = (e)=>{\n    //e.target.value is the value being put into the form\n    setNewName(e.target.value)\n  }\n\n  const handleNumInput = (e)=>{\n    //e.target.value is the value being put into the form\n    setNewPhoneNumber(e.target.value)\n  }\n\n  const deletePerson = (person) => {\n    window.confirm(`Delete ${person.name}?`)&&personServices.deletePerson(person.id)\n  }\n\n    //end of handlers\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} type={notifType}/>\n      <Filter handleFilter={handleFilter} value={newFilter}/>\n      <h3>Add a new</h3>\n      <Form \n        handleSubmit={handleSubmit} \n        handleNameInput={handleNameInput} \n        newName={newName}\n        handleNumInput={handleNumInput}\n        newPhoneNumber={newPhoneNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} newFilter={newFilter} del={deletePerson}/>\n      \n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}