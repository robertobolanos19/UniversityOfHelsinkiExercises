{"ast":null,"code":"var _jsxFileName = \"/Users/rb/Desktop/FullstackCourse/part2/phonebook/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport personServices from './services/persons';\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  //persons data\n  const [persons, setPersons] = useState([]);\n  //search filter\n  const [newFilter, setNewFilter] = useState('');\n  //new person\n  const [newName, setNewName] = useState('');\n  //phone numbers\n  const [newPhoneNumber, setNewPhoneNumber] = useState('');\n  //notifications\n  const [notification, setNotification] = useState(null);\n  const [notifType, setNotifType] = useState(null);\n\n  //use effect is being used to get data\n  useEffect(() => {\n    personServices.getAll()\n    //if found it will skim through each item\n    .then(initialPersons => {\n      //the values from response.data each time its returned is being sent to setPersons\n      setPersons(initialPersons);\n    });\n  });\n  //end of useEffect\n\n  //handlers\n\n  const handleFilter = e => setNewFilter(e.target.value);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newPhoneNumber,\n      id: persons.length + 1\n    };\n    if (persons.map(p => p.name).includes(newName)) {\n      window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`) && personServices.update(persons.filter(p => p.name === newName)[0].id, nameObject).then(response => {\n        personServices.getAll().then(response => {\n          setPersons(response);\n          setNewName('');\n          setNewPhoneNumber('');\n          setNotifType(null);\n          setNotification(`Changed ${nameObject.name}'s number`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        });\n      }).catch(error => {\n        setNotifType('error');\n        setNotification(`${newName} was already removed from server`);\n        setTimeout(() => {\n          setNotifType(null);\n          setNotification(null);\n        }, 5000);\n        setPersons(persons.filter(n => n.name !== newName));\n      });\n    }\n    personServices.create(nameObject).then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson));\n      setNewName('');\n      setNewPhoneNumber('');\n      setNotifType(null);\n      setNotification(`Added ${returnedPerson.name}`);\n      setTimeout(() => {\n        setNotification(null);\n      }, 5000);\n    });\n  };\n  const handleNameInput = e => {\n    //e.target.value is the value being put into the form\n    setNewName(e.target.value);\n  };\n  const handleNumInput = e => {\n    //e.target.value is the value being put into the form\n    setNewPhoneNumber(e.target.value);\n  };\n  const deletePerson = person => {\n    window.confirm(`Delete ${person.name}?`) && personServices.deletePerson(person.id);\n  };\n\n  //end of handlers\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      message: notification,\n      type: notifType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      handleFilter: handleFilter,\n      value: newFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleSubmit: handleSubmit,\n      handleNameInput: handleNameInput,\n      newName: newName,\n      handleNumInput: handleNumInput,\n      newPhoneNumber: newPhoneNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      persons: persons,\n      newFilter: newFilter,\n      del: deletePerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"ptvPW+EJRv4+0aTZrS0ZnZU7Xyw=\");\n_c = App;\nexport default App;\n\n/*\n1) Filter is being imported from Filter.js and has two props called handleFilter and value.\n  from Filter.js handleFilter prop is being called to execute on change, and the newFilter prop is being used as the value\n\n  handleFilter function is being used to change the value of setNewFilter. setNewFilter is being sent to Filter. \n\n\n\n*/\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","personServices","Filter","Form","Persons","Notification","App","persons","setPersons","newFilter","setNewFilter","newName","setNewName","newPhoneNumber","setNewPhoneNumber","notification","setNotification","notifType","setNotifType","getAll","then","initialPersons","handleFilter","e","target","value","handleSubmit","preventDefault","nameObject","name","number","id","length","map","p","includes","window","confirm","update","filter","response","setTimeout","catch","error","n","create","returnedPerson","concat","handleNameInput","handleNumInput","deletePerson","person"],"sources":["/Users/rb/Desktop/FullstackCourse/part2/phonebook/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nimport personServices from './services/persons'\n\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n\n  //persons data\n  const [persons, setPersons] = useState([])\n  //search filter\n  const [newFilter, setNewFilter] = useState('')\n  //new person\n  const [newName, setNewName] = useState('')\n  //phone numbers\n  const [newPhoneNumber, setNewPhoneNumber] = useState('')\n  //notifications\n  const [notification, setNotification] = useState(null)\n  const [notifType, setNotifType] = useState(null)\n\n\n  //use effect is being used to get data\n  useEffect(()=>{\n  personServices.getAll()\n  //if found it will skim through each item\n  .then(initialPersons =>{\n    //the values from response.data each time its returned is being sent to setPersons\n    setPersons(initialPersons)\n  })\n  })\n  //end of useEffect\n\n  //handlers\n\n  const handleFilter = (e)=> setNewFilter(e.target.value)\n\n  const handleSubmit = (e)=>{\n    e.preventDefault()\n    \n    const nameObject = \n    {\n      name:newName,\n      number:newPhoneNumber,\n      id: persons.length+1\n    }  \n\n    if(persons.map((p)=>p.name).includes(newName))\n    {\n      window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`) &&\n      personServices\n      .update(persons.filter(p=>p.name === newName)[0].id, nameObject)\n      .then(response =>{\n        personServices.getAll()\n        .then(response =>{\n          setPersons(response)\n          setNewName('')\n          setNewPhoneNumber('')\n          setNotifType(null)\n          setNotification(`Changed ${nameObject.name}'s number`)\n          setTimeout(()=>{\n            setNotification(null)\n          },5000)\n        })\n      })\n      .catch(error =>{\n        setNotifType('error')\n        setNotification(`${newName} was already removed from server`)\n        setTimeout(()=>{\n          setNotifType(null)\n          setNotification(null)\n        },5000)\n        setPersons(persons.filter(n=>n.name !== newName))\n      })\n    }\n\n      personServices.create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewPhoneNumber('')\n        setNotifType(null)\n        setNotification(`Added ${returnedPerson.name}`)\n        setTimeout(()=>{\n          setNotification(null)\n        },5000)\n      })\n  \n  }\n  \n  const handleNameInput = (e)=>{\n    //e.target.value is the value being put into the form\n    setNewName(e.target.value)\n  }\n\n  const handleNumInput = (e)=>{\n    //e.target.value is the value being put into the form\n    setNewPhoneNumber(e.target.value)\n  }\n\n  const deletePerson = (person) => {\n    window.confirm(`Delete ${person.name}?`)&&personServices.deletePerson(person.id)\n  }\n\n    //end of handlers\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} type={notifType}/>\n      <Filter handleFilter={handleFilter} value={newFilter}/>\n      <h3>Add a new</h3>\n      <Form \n        handleSubmit={handleSubmit} \n        handleNameInput={handleNameInput} \n        newName={newName}\n        handleNumInput={handleNumInput}\n        newPhoneNumber={newPhoneNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} newFilter={newFilter} del={deletePerson}/>\n      \n    </div>\n  )\n}\n\nexport default App\n\n/*\n1) Filter is being imported from Filter.js and has two props called handleFilter and value.\n  from Filter.js handleFilter prop is being called to execute on change, and the newFilter prop is being used as the value\n\n  handleFilter function is being used to change the value of setNewFilter. setNewFilter is being sent to Filter. \n\n\n\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}